\chapter{Shapefile}
\label{ch:shapefile}

A Shapefile contains either Points, Lines or Polygons and is managed by ESRI. The data is present as vectors.

\section{Structure of Shapefile}
\label{sec:structure}

\subsection{Mandatory parts of shapefile}
\label{subsec:Mandatory-parts-of-shapefile}

\begin{labeling}[:]{*.shp}
    \item[*.shp]Contains the geometry data
    \item[*.dbf]To safe further attributes like street classes
    \item[*.shx]Index to connect geometry and attributes
\end{labeling}

\subsection{Optional parts of shapefile}
\label{subsec:optional-parts-of-shapefile}

\begin{labeling}[:]{*.fbn}
    \item[*.prj]Projection data
    \item[*.fbn]Spatial indexfile to speed up a search
\end{labeling}

Shapefiles mostly get converted to graphs.
But the coordinates in the shapefile should get converted to geocoordinates before they get saved as graphs.
For that it is necessary to get the projection data from the shape file.
These information are in a *.tif file.
Sometimes the units are different from the metric system and need to be transformed to meter.
A sample how to transform a shapefile in geocoordinates can be found in \ref{TransformShapeFile}.

\section{Worldfile}
\label{sec:worldfile}
Contains georeferenzdata for the corresponding picture in form of an Affintransformation.
With this transformation one can transform the pixelcoordinates to geographic coordinates.


The worldfile can be calculated by control points (Passpunkte).
A Algorithm how to implement
the calculation with an equation system can be found in \ref{CalculateWorldfile}.


A worldfile typical has six values (Because it contains the values of an Affintransformation).

\begin{labeling}[:]{A}
    \item[A]Pixel size in the x-direction in map units/pixel
    \item[D]Rotation about y-axis
    \item[B]Rotation about x-axis
    \item[E]Pixel size in the y-direction in map units, almost always negative[3]
    \item[C]x-coordinate of the center of the upper left pixel
    \item[F]y-coordinate of the center of the upper left pixel
\end{labeling}

or

\begin{labeling}[:]{A}
    \item[A]x-component of the pixel width (x-scale)
    \item[D]y-component of the pixel width (y-skew)
    \item[B]x-component of the pixel height (x-skew)
    \item[E]y-component of the pixel height (y-scale), typically negative
    \item[C]x-coordinate of the center of the original image's upper left pixel transformed to the map
    \item[F]y-coordinate of the center of the original image's upper left pixel transformed to the map
\end{labeling}

